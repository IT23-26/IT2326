;/*FB_PKG_DELIM*/

__d("MAWMessageIntegrityLoggingSampleRate",["QuickPerformanceLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set([r("qpl")._(25303796,"1974")]);function u(){for(var t of s)(e||(e=r("QuickPerformanceLogger"))).setAlwaysOnSampleRate(t,1)}function c(){return 1}l.overwriteSamplingRate=u,l.getIntegrityCheckSampleRate=c}),98);
__d("MWV2ChatOverflowHeadFirstThreadPicture.react",["fbt","MDSGlimmer.react","MWChatHeadPicture.react","MWV2EnsureThatChatTabExists","MWXText.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useMWFacepileGetContactsToShow","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(e){var t=o("react-compiler-runtime").c(10),n=e.count,a=e.thread,i=r("useMWFacepileGetContactsToShow")(a.threadKey,a.threadType),l;t[0]!==i?(l=i.map(r("getLSMediaContactProfilePictureUrl")),t[0]=i,t[1]=l):l=t[1];var u=l,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xsdox4t xl56j7k x10l6tqk x13vifvy x1useyqa"},t[2]=d):d=t[2];var m;t[3]!==n?(m=s._(/*BTDS*/"+{chat count}",[s._param("chat count",String(n))]),t[3]=n,t[4]=m):m=t[4];var p;t[5]!==m?(p=c.jsx("div",babelHelpers.extends({},d,{children:c.jsx(r("MWXText.react"),{color:"white",type:"bodyLink3",children:m})})),t[5]=m,t[6]=p):p=t[6];var _;return t[7]!==u||t[8]!==p?(_=c.jsx(r("MWChatHeadPicture.react"),{images:u,noDropShadow:!0,noFacepile:!0,children:p}),t[7]=u,t[8]=p,t[9]=_):_=t[9],_}var m={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(10),a=t.count,l=t.tab;o("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(l.threadKey,l.threadType,null,"MWV2ChatOverflowHeadFirstThreadPicture");var s=(e||(e=r("useReStore")))(),u;n[0]!==s.tables.threads||n[1]!==l.threadKey?(u=function(){return o("ReQL").fromTableAscending(s.tables.threads).getKeyRange(l.threadKey)},n[0]=s.tables.threads,n[1]=l.threadKey,n[2]=u):u=n[2];var p;n[3]!==s||n[4]!==l.threadKey?(p=[s,l.threadKey],n[3]=s,n[4]=l.threadKey,n[5]=p):p=n[5];var _=o("ReQLSuspense").useFirst(u,p,i.id+":81");if(_!=null){var f;return n[6]!==a||n[7]!==_?(f=c.jsx(d,{count:a,thread:_}),n[6]=a,n[7]=_,n[8]=f):f=n[8],f}var g;return n[9]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx(r("MDSGlimmer.react"),{index:1,xstyle:m.glimmer}),n[9]=g):g=n[9],g}l.default=p}),226);
__d("MWV2ChatOverflowHeadPopoverTable.react",["FocusTable.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=o("FocusTable.react").createFocusTable(o("focusScopeQueries").tabbableScopeQuery),c=u[0],d=u[1],m=u[2],p=d,_=m;function f(e){var t=o("react-compiler-runtime").c(2),n=e.children,r;return t[0]!==n?(r=s.jsx(c,{allowModifiers:!0,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrapX:!0,wrapY:!0,children:n}),t[0]=n,t[1]=r):r=t[1],r}l.MWChatOverflowHeadPopoverTableRow=p,l.MWChatOverflowHeadPopoverTableCell=_,l.MWChatOverflowHeadPopoverTable=f}),98);
__d("MWV2ChatOverflowHeadPopoverItem.react",["fbt","CometTextWithEntities.react","FDSListCellGlimmer.react","FDSMenuItemBase.react","GroupsCometChatsEngagementLogger","I64","LSIntEnum","LSThreadAttributionStore","LSThreadTitle.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatTextTransform","MWPActor.react","MWV2ChatOverflowHeadPopoverTable.react","MWV2EnsureThatChatTabExists","MWXCircleButton.react","MWXIconCross","ReQL","ReQLSuspense","mwCMIsAnyCMThread","react","react-compiler-runtime","useMWChatOpenTabTraceProvider","useMWGetThreadTitleForLabel","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react"));function p(t){var n,a=o("MWPActor.react").useActor(),l=(e||(e=r("useReStore")))();return(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(t).map(function(e){return o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(l.tables.messages).getKeyRange(t).take(20).bounds({gt:o("ReQL").key(e.lastReadWatermarkTimestampMs)}).filter(function(e){return!(u||(u=o("I64"))).equal(e.senderId,a)}),i.id+":65").length})},[l,a,t],i.id+":59"))!=null?n:0}function _(e){var t=o("react-compiler-runtime").c(7),n=e.thread,a=p(n.threadKey),i;t[0]!==n?(i=m.jsx(r("LSThreadTitle.react"),{thread:n}),t[0]=n,t[1]=i):i=t[1];var l;t[2]!==a?(l=a>0&&m.jsx(r("CometTextWithEntities.react"),{text:s._(/*BTDS*/"({unread message count})",[s._param("unread message count",String(a))]).toString(),transforms:o("MWChatTextTransform").textTransforms}),t[2]=a,t[3]=l):l=t[3];var u;return t[4]!==i||t[5]!==l?(u=m.jsxs(m.Fragment,{children:[i,l]}),t[4]=i,t[5]=l,t[6]=u):u=t[6],u}function f(t){var n=o("react-compiler-runtime").c(40),a=t.descriptor,l=t.tab,d=(e||(e=r("useReStore")))(),p;n[0]!==d.tables.threads||n[1]!==a.threadKey?(p=function(){return o("ReQL").fromTableAscending(d.tables.threads).getKeyRange(a.threadKey)},n[0]=d.tables.threads,n[1]=a.threadKey,n[2]=p):p=n[2];var f;n[3]!==d||n[4]!==a.threadKey?(f=[d,a.threadKey],n[3]=d,n[4]=a.threadKey,n[5]=f):f=n[5];var g=o("ReQLSuspense").useFirst(p,f,i.id+":126"),h=o("MWChatStateV2.react").useDispatch(),y=r("useMWChatOpenTabTraceProvider")();o("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(a.threadKey,a.threadType,a.clientThreadKey,"MWV2ChatOverflowHeadMenuItem");var C=g==null?void 0:g.threadName,b;n[6]!==a.threadKey||n[7]!==a.threadType||n[8]!==C?(b={threadKey:a.threadKey,threadName:C,threadType:a.threadType},n[6]=a.threadKey,n[7]=a.threadType,n[8]=C,n[9]=b):b=n[9];var v=r("useMWGetThreadTitleForLabel")(b);if(g!=null){var S;n[10]!==g.threadType?(S=r("mwCMIsAnyCMThread")(g.threadType),n[10]=g.threadType,n[11]=S):S=n[11];var R=S,L;n[12]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x6s0dn4 x78zum5 x1q0g3np"},n[12]=L):L=n[12];var E;n[13]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1iyjqo2"},n[13]=E):E=n[13];var k;n[14]!==h||n[15]!==R||n[16]!==l.tabId||n[17]!==g.parentThreadKey||n[18]!==g.threadKey||n[19]!==g.threadType||n[20]!==y?(k=function(){return o("LSThreadAttributionStore").setSource((u||(u=o("I64"))).to_string(g.threadKey),"chatheadsOverflow"),y({entrypoint:"chatheadsOverflow",threadKey:g.threadKey,threadType:(c||(c=o("LSIntEnum"))).unwrapIntEnum(g.threadType)},function(e){o("MWChatInteraction").set((u||(u=o("I64"))).to_string(g.threadKey),e)}),R&&o("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:(u||(u=o("I64"))).to_string(g.parentThreadKey),event:"thread_open",source:"chat_bubble_overflow",surface:"chat_bubbles_container",thread_id:u.to_string(g.threadKey)}),h(o("MWChatStateActions").maximizeTab(Date.now(),l.tabId))},n[14]=h,n[15]=R,n[16]=l.tabId,n[17]=g.parentThreadKey,n[18]=g.threadKey,n[19]=g.threadType,n[20]=y,n[21]=k):k=n[21];var I;n[22]!==g?(I=m.jsx(_,{thread:g}),n[22]=g,n[23]=I):I=n[23];var T;n[24]!==k||n[25]!==I?(T=m.jsx("div",babelHelpers.extends({},E,{role:"gridcell",children:m.jsx(o("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTableCell,{children:m.jsx(r("FDSMenuItemBase.react"),{onClick:k,primaryText:I,role:"button"})})})),n[24]=k,n[25]=I,n[26]=T):T=n[26];var D;n[27]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x6s0dn4 x78zum5 xdg88n9 x10l6tqk"},n[27]=D):D=n[27];var x;n[28]!==v?(x=v==null?s._(/*BTDS*/"\u0110\u00f3ng \u0111o\u1ea1n chat"):s._(/*BTDS*/"\u0110\u00f3ng \u0111o\u1ea1n chat {chat_name}",[s._param("chat_name",v)]),n[28]=v,n[29]=x):x=n[29];var $;n[30]!==h||n[31]!==l.tabId?($=function(){return h(o("MWChatStateActions").closeTab(Date.now(),l.tabId))},n[30]=h,n[31]=l.tabId,n[32]=$):$=n[32];var P;n[33]!==x||n[34]!==$?(P=m.jsx("div",babelHelpers.extends({},D,{role:"gridcell",children:m.jsx(o("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTableCell,{children:m.jsx(r("MWXCircleButton.react"),{"aria-label":x,color:"secondary",icon:r("MWXIconCross"),onPress:$,size:24,type:"deemphasized"})})})),n[33]=x,n[34]=$,n[35]=P):P=n[35];var N;return n[36]!==T||n[37]!==P?(N=m.jsx("div",babelHelpers.extends({},L,{role:"row",children:m.jsxs(o("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTableRow,{children:[T,P]})})),n[36]=T,n[37]=P,n[38]=N):N=n[38],N}var M;return n[39]===Symbol.for("react.memo_cache_sentinel")?(M=m.jsx("div",{className:"xc9qbxq x5w4yej",children:m.jsx(r("FDSListCellGlimmer.react"),{imageStyle:"none"})}),n[39]=M):M=n[39],M}l.default=f}),226);
__d("MWV2ChatOverflowHeadPopover.react",["BaseContextualLayerAvailableHeightContext","BaseScrollableArea.react","FBLogger","FocusRegionStrictMode.react","MWChatStateV2Types","MWV2ChatOverflowHeadPopoverItem.react","MWV2ChatOverflowHeadPopoverTable.react","MWXPopover.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["excessHeads","onClose"],s,u=s||(s=o("react")),c=s.useContext,d={menuWrapper:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",marginInlineEnd:"x1ujha01",paddingTop:"x1ten1a2",paddingBottom:"xz7cn9q",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,width:"xh8yej3",$$css:!0}},m=145;function p(t){var n=o("react-compiler-runtime").c(16),a,i;if(n[0]!==t){var l=t.excessHeads,s=t.onClose,p=babelHelpers.objectWithoutPropertiesLoose(t,e);i=l,a=p,n[0]=t,n[1]=a,n[2]=i}else a=n[1],i=n[2];var f=c(r("BaseContextualLayerAvailableHeightContext")),g=f!=null?Math.max(f,m):void 0,h;n[3]!==g?(h={maxHeight:g},n[3]=g,n[4]=h):h=n[4];var y;n[5]!==i?(y=i.map(_),n[5]=i,n[6]=y):y=n[6];var C;n[7]!==y?(C=u.jsx(o("FocusRegionStrictMode.react").FocusRegion,{recoverFocusQuery:o("focusScopeQueries").tabbableScopeQuery,children:u.jsx(o("MWV2ChatOverflowHeadPopoverTable.react").MWChatOverflowHeadPopoverTable,{children:y})}),n[7]=y,n[8]=C):C=n[8];var b;n[9]!==a||n[10]!==h||n[11]!==C?(b=u.jsx(r("BaseScrollableArea.react"),babelHelpers.extends({horizontal:!1,role:"grid",style:h,vertical:!0,xstyle:d.menuWrapper},a,{children:C})),n[9]=a,n[10]=h,n[11]=C,n[12]=b):b=n[12];var v;return n[13]!==a||n[14]!==b?(v=u.jsx(r("MWXPopover.react"),babelHelpers.extends({role:"dialog",withArrow:!0},a,{children:b})),n[13]=a,n[14]=b,n[15]=v):v=n[15],v}function _(e){var t=e.tabType;if(t.type!==o("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return u.jsx(r("MWV2ChatOverflowHeadPopoverItem.react"),{descriptor:t.threadKeyDescriptor,tab:e},String(e.tabId));r("FBLogger")("messenger_web_entrypoints").mustfix("Compose tab shouldn't be part of excess tabs")}l.default=p}),98);
__d("MWV2ChatOverflowHead.react",["fbt","BasePopoverTrigger.react","FBLogger","MWChatStateV2Types","MWV2ChatHeadButton.react","MWV2ChatOverflowHeadFirstThreadPicture.react","MWV2ChatOverflowHeadPopover.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useRef,m=c.useState;function p(e){var t=o("react-compiler-runtime").c(29),n=e.excessHeads,a=e.onActiveChange,i=e.style,l=m(!1),c=l[0],p=l[1],_=d(null),f=n.length;if(f<=0)return null;var g=n[0].tabType;g.type===o("MWChatStateV2Types").MWChatStateTabType.ComposeTab&&r("FBLogger")("messenger_web_entrypoints").mustfix("Compose tab shouldn't be part of excess tabs");var h;t[0]!==f?(h=s._(/*BTDS*/"+{chat count} \u0111o\u1ea1n chat kh\u00e1c",[s._param("chat count",String(f))]),t[0]=f,t[1]=h):h=t[1];var y=h,C;t[2]!==a?(C=function(){var e;(e=_.current)==null||e.show(),a(!0)},t[2]=a,t[3]=C):C=t[3];var b;t[4]!==c||t[5]!==a?(b=function(){if(!c){var e;(e=_.current)==null||e.hide()}a(!1)},t[4]=c,t[5]=a,t[6]=b):b=t[6];var v;t[7]!==a?(v=function(t){t||(p(!1),a(!1))},t[7]=a,t[8]=v):v=t[8];var S;t[9]!==n||t[10]!==y?(S={"aria-label":y,excessHeads:n},t[9]=n,t[10]=y,t[11]=S):S=t[11];var R;t[12]!==f||t[13]!==g.threadKeyDescriptor||t[14]!==g.type||t[15]!==y||t[16]!==a?(R=function(t,n,i,l,s,c,d,m){return u.jsx(o("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaLabel:y,onFocusChange:a,onHoverIn:l,onHoverOut:s,onPress:function(){m||(p(!0),n())},onPressIn:c,ref:t,children:g.type===o("MWChatStateV2Types").MWChatStateTabType.ComposeTab?null:u.jsx(r("MWV2ChatOverflowHeadFirstThreadPicture.react"),{count:f,tab:g.threadKeyDescriptor})})},t[12]=f,t[13]=g.threadKeyDescriptor,t[14]=g.type,t[15]=y,t[16]=a,t[17]=R):R=t[17];var L;t[18]!==v||t[19]!==S||t[20]!==R?(L=u.jsx(r("BasePopoverTrigger.react"),{align:"middle",imperativeRef:_,onVisibilityChange:v,popover:r("MWV2ChatOverflowHeadPopover.react"),popoverProps:S,popoverType:"dialog",position:"end",children:R}),t[18]=v,t[19]=S,t[20]=R,t[21]=L):L=t[21];var E;t[22]!==C||t[23]!==b||t[24]!==L?(E=u.jsx("div",{onMouseEnter:C,onMouseLeave:b,children:L}),t[22]=C,t[23]=b,t[24]=L,t[25]=E):E=t[25];var k;return t[26]!==i||t[27]!==E?(k=u.jsx(o("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:i,children:E}),t[26]=i,t[27]=E,t[28]=k):k=t[28],k}l.default=p}),226);