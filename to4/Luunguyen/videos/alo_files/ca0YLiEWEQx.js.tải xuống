;/*FB_PKG_DELIM*/

__d("MWChatFacepile.react",["CometImage.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},image:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",position:"x10l6tqk",$$css:!0},imageBorder:{borderTopColor:"xsdn2ir",borderInlineEndColor:"xpkn66y",borderBottomColor:"x13awxeq",borderInlineStartColor:"xuxekev",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},leftImage:{bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0},rightImage:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x13vifvy",$$css:!0},root:{display:"x78zum5",position:"x1n2onr6",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(24),a=t.borderBetweenImages,i=t.children,l=t.firstParticipantURI,s=t.secondParticipantURI,d=t.shadow,m=t.size,p=t.xstyle,_=a===void 0?!0:a,f=d===void 0?!1:d,g=m===void 0?30:m,h=g/1.5,y;n[0]!==p?(y=(e||(e=r("stylex")))(c.root,p),n[0]=p,n[1]=y):y=n[1];var C=String(g)+"px",b=String(g)+"px",v;n[2]!==C||n[3]!==b?(v={height:C,width:b},n[2]=C,n[3]=b,n[4]=v):v=n[4];var S=f&&c.dropShadow,R;n[5]!==S?(R=[S,c.image,c.rightImage],n[5]=S,n[6]=R):R=n[6];var L;n[7]!==h||n[8]!==s||n[9]!==R?(L=u.jsx(r("CometImage.react"),{height:h,src:s,width:h,xstyle:R}),n[7]=h,n[8]=s,n[9]=R,n[10]=L):L=n[10];var E=f&&c.dropShadow,k=_&&c.imageBorder,I;n[11]!==E||n[12]!==k?(I=[E,c.image,k,c.leftImage],n[11]=E,n[12]=k,n[13]=I):I=n[13];var T;n[14]!==l||n[15]!==h||n[16]!==I?(T=u.jsx(r("CometImage.react"),{height:h,src:l,width:h,xstyle:I}),n[14]=l,n[15]=h,n[16]=I,n[17]=T):T=n[17];var D;return n[18]!==i||n[19]!==L||n[20]!==T||n[21]!==y||n[22]!==v?(D=u.jsxs("div",{className:y,style:v,children:[L,T,i]}),n[18]=i,n[19]=L,n[20]=T,n[21]=y,n[22]=v,n[23]=D):D=n[23],D}l.default=d}),98);
__d("MWChatProfile.react",["CometImage.react","MDSGlimmer.react","isStringNullOrEmpty","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={img:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",objectFit:"xl1xv1r",verticalAlign:"x3ajldb",width:"xh8yej3",$$css:!0},root:{position:"x1n2onr6",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(18),a=t.alt,i=t.children,l=t.isActiveNow,s=t.size,d=t.src,m=t.xstyle,p=a===void 0?"":a,_=l===void 0?!1:l,f;n[0]!==m?(f=(e||(e=r("stylex")))(c.root,m),n[0]=m,n[1]=f):f=n[1];var g=String(s)+"px",h=String(s)+"px",y;n[2]!==g||n[3]!==h?(y={height:g,width:h},n[2]=g,n[3]=h,n[4]=y):y=n[4];var C;n[5]!==p||n[6]!==d?(C=r("isStringNullOrEmpty")(d)?u.jsx(r("MDSGlimmer.react"),{index:1,xstyle:c.img}):u.jsx(r("CometImage.react"),{alt:p,src:d,xstyle:c.img}),n[5]=p,n[6]=d,n[7]=C):C=n[7];var b;n[8]!==_?(b={0:{className:"xv9rvxn xsdn2ir xpkn66y x13awxeq xuxekev x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1ey2m1c x1s85apg xdk7pt xtijo5x x10l6tqk x1xc55vz"},1:{className:"xv9rvxn xsdn2ir xpkn66y x13awxeq xuxekev x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1ey2m1c xdk7pt xtijo5x x10l6tqk x1xc55vz x1lliihq"}}[!!_<<0],n[8]=_,n[9]=b):b=n[9];var v;n[10]!==b?(v=u.jsx("div",babelHelpers.extends({},b)),n[10]=b,n[11]=v):v=n[11];var S;return n[12]!==i||n[13]!==f||n[14]!==y||n[15]!==C||n[16]!==v?(S=u.jsxs("div",{className:f,style:y,children:[C,i,v]}),n[12]=i,n[13]=f,n[14]=y,n[15]=C,n[16]=v,n[17]=S):S=n[17],S}l.default=d}),98);
__d("WorkLSSnippetMarkdownUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e?e.replace(/^#{1,6}\s+/gm,"").replace(/(\*\*|__)(.*?)\1/g,"$2").replace(/(\*|_)(.*?)\1/g,"$2").replace(/`([^`]+)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/~~(.*?)~~/g,"$1").replace(/\n+/g," ").replace(/\s+/g," ").trim():""}i.stripMarkdownFromSnippet=e}),66);
__d("getMWLSThreadEventTimeSnippetForDisplay",["fbt","I64"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return""}}function c(e){var t=e.split(":"),n=t.slice(0,2).join(":"),r=t[2].slice(2,5);return n+r}function d(t,n){var r=Date.now(),a=t!=null?(e||(e=o("I64"))).to_float(t):0,i=n!=null?(e||(e=o("I64"))).to_float(n):a*2,l=new Date(a),d=a-6048e5,m=a-864e5,p=r<=d,_=r<=a&&r>=m,f=r<=a&&r>=d&&!_,g=r>=a&&r<=i,h=l.toDateString(),y=c(l.toLocaleTimeString()),C=h.split(" "),b=l.getDay(),v=new Date,S=v.getDate();return p?s._(/*BTDS*/"S\u1ef1 ki\u1ec7n l\u00fac {time} ng\u00e0y {day} {month}",[s._param("month",C[2]),s._param("day",C[1]),s._param("time",y)]).toString():f?s._(/*BTDS*/"S\u1ef1 ki\u1ec7n l\u00fac {time} {day of week}",[s._param("day of week",u(b)),s._param("time",y)]).toString():_?S!==b?s._(/*BTDS*/"S\u1ef1 ki\u1ec7n l\u00fac {time} ng\u00e0y mai",[s._param("time",y)]).toString():s._(/*BTDS*/"S\u1ef1 ki\u1ec7n l\u00fac {time} h\u00f4m nay",[s._param("time",y)]).toString():g?s._(/*BTDS*/"S\u1ef1 ki\u1ec7n \u0111ang di\u1ec5n ra").toString():s._(/*BTDS*/"S\u1ef1 ki\u1ec7n \u0111\u00e3 qua").toString()}l.default=d}),226);
__d("MWThreadSnippetForDisplay.react",["fbt","CometTextWithEntities.react","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatTextTransform","MWGroupBlockingProtectionUtils","ReStoreVaulting","ThreadStatus","WorkLSSnippetMarkdownUtils","cr:4217","getMWLSThreadEventTimeSnippetForDisplay","gkx","react","react-compiler-runtime","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react"));function m(e){return null}var p=(e=n("cr:4217"))!=null?e:m;function _(e){var t,n=o("react-compiler-runtime").c(9),a=e.snippetRaw,i=e.thread,l=o("MWCMThreadTypes.react").isUnjoinedCMThread(i.threadType),s=p(i),u=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType),m;if(n[0]!==s||n[1]!==a||n[2]!==i.threadSubtype){var _,f=a==null?null:((_=o("ReStoreVaulting").maybeUnvault(a))!=null?_:a).replace(/\uDB80\uDC00/,"(Y)");m=f==null?null:s!=null?s:o("LSMessagingThreadTypeUtil").isWorkThread(i.threadSubtype)&&r("gkx")("13056")?o("WorkLSSnippetMarkdownUtils").stripMarkdownFromSnippet(f):f,n[0]=s,n[1]=a,n[2]=i.threadSubtype,n[3]=m}else m=n[3];var g=m,h=o("MWGroupBlockingProtectionUtils").useMWGetSnippetForBlockingProtection(i.threadKey,i.threadType),y=(t=o("useStringWithSubstitutions").useStringWithSubstitutions(u?g:null,i.threadKey))!=null?t:g;if(y==null)return null;var C=i.threadStatus!=null&&(c||(c=o("I64"))).equal(i.threadStatus,(c||(c=o("I64"))).of_int32(r("ThreadStatus").PAUSED));if(!l&&!C&&i.eventStartTimestampMs!=null){var b;return n[4]!==i.eventEndTimestampMs||n[5]!==i.eventStartTimestampMs?(b=r("getMWLSThreadEventTimeSnippetForDisplay")(i.eventStartTimestampMs,i.eventEndTimestampMs),n[4]=i.eventEndTimestampMs,n[5]=i.eventStartTimestampMs,n[6]=b):b=n[6],b}if(h!=null)return h;var v;return n[7]!==y?(v=d.jsx(r("CometTextWithEntities.react"),{text:y,transforms:o("MWChatTextTransform").textTransforms}),n[7]=y,n[8]=v):v=n[8],v}var f=d.memo(_);function g(e){var t=o("react-compiler-runtime").c(9),n=e.isDraftMessage,r=e.snippetRaw,a=e.thread,i=n===void 0?!1:n,l;t[0]!==i?(l=i&&d.jsxs("span",{style:{color:"#1763CF"},children:[s._(/*BTDS*/"B\u1ea3n nh\u00e1p:")," "]}),t[0]=i,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=["threadKey","threadType","threadStatus","eventStartTimestampMs","eventEndTimestampMs"],t[2]=u):u=t[2];var c=o("Int64Hooks").usePickInt64(a,u),m;t[3]!==r||t[4]!==c?(m=d.jsx(f,{snippetRaw:r,thread:c}),t[3]=r,t[4]=c,t[5]=m):m=t[5];var p;return t[6]!==l||t[7]!==m?(p=d.jsxs(d.Fragment,{children:[l,m]}),t[6]=l,t[7]=m,t[8]=p):p=t[8],p}l.default=g}),226);
__d("useGetSnippetFromLS",["I64","LSAuthorityLevel","LSIntEnum","MAWStrings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(9),a=(u||(u=r("useReStore")))(),l;n[0]!==a.tables.messages||n[1]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.messages.index("messageDisplayOrderAuthority")).bounds({gte:[t.threadKey,(e||(e=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),(s||(s=o("I64"))).zero],lt:[t.threadKey,e.ofNumber(r("LSAuthorityLevel").OPTIMISTIC),s.max_int]})},n[0]=a.tables.messages,n[1]=t.threadKey,n[2]=l):l=n[2];var c;n[3]!==a||n[4]!==t.threadKey?(c=[a,t.threadKey],n[3]=a,n[4]=t.threadKey,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(l,c,i.id+":30"),m;return n[6]!==d||n[7]!==t.snippet?(m=d!=null?{shouldHideTimestamp:!0,snippet:o("MAWStrings").MAW_OPTIMISTIC_SNIPPET().toString()}:{shouldHideTimestamp:!1,snippet:t.snippet},n[6]=d,n[7]=t.snippet,n[8]=m):m=n[8],m}l.default=c}),98);
__d("usePrefetchCutoverDependencies",["Int64Hooks","MWEnsureCutoverOpenThreadExists","MWV2EnsureThatChatTabExists","Promise","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){var a=o("react-compiler-runtime").c(6),i=r.clientThreadKey,l=r.threadKey,s=r.threadType,c,d;return a[0]!==i||a[1]!==t||a[2]!==l||a[3]!==s?(c=function(){return t.then(function(t){return(e||(e=n("Promise"))).all([o("MWEnsureCutoverOpenThreadExists").ensureCutoverOpenThreadExists(t,l),o("MWV2EnsureThatChatTabExists").ensureThatChatTabExists(t,l,s,i,"usePrefetchCutoverDependencies")]).then(u)})},d=[t,l,s,i],a[0]=i,a[1]=t,a[2]=l,a[3]=s,a[4]=c,a[5]=d):(c=a[4],d=a[5]),o("Int64Hooks").useCallbackInt64(c,d)}function u(){}l.default=s}),98);
__d("useMWPreloadThread",["Int64Hooks","InteractionTracingMetrics","JSResourceForInteraction","JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","MAWPreloadSecureMessages","MWLSThreadDisplayContext","ReQL","gkx","justknobx","promiseDone","react-compiler-runtime","useAsyncReStore","useCometPreloader","usePrefetchCutoverDependencies"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWPreloadThread"),c=r("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("useMWPreloadThread");function d(t,n){var a=o("react-compiler-runtime").c(14),i=r("useAsyncReStore")(),l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),s=r("usePrefetchCutoverDependencies")(i,t),d=l!=="Inbox",_=t.threadKey,h,y;a[0]!==i||a[1]!==n||a[2]!==d||a[3]!==t.authorityLevel||a[4]!==_?(h=function(){if(d){var e=r("gkx")("16508");e===!0?c.preload():u.preload()}if(n){r("InteractionTracingMetrics").currentInteractionLogger().forEach(f);var a=r("justknobx")._("2575"),l=r("gkx")("14315")?8:r("justknobx")._("2038"),s=d?l:a;r("promiseDone")(i.then(function(e){return o("MAWPreloadSecureMessages").preloadSecureMessages(e,_,s,t.authorityLevel)}).then(p))}},y=[i,n,d,_,t.authorityLevel],a[0]=i,a[1]=n,a[2]=d,a[3]=t.authorityLevel,a[4]=_,a[5]=h,a[6]=y):(h=a[5],y=a[6]);var C=o("Int64Hooks").useCallbackInt64(h,y),b,v;a[7]!==i||a[8]!==n||a[9]!==s||a[10]!==d||a[11]!==_?(b=function(){var t=!1;return(function(){t!==!0&&(t=!0,d&&(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(m),n?r("promiseDone")(s()):r("promiseDone")(i.then(function(e){return g(e,_)})))})},v=[d,n,s,i,_],a[7]=i,a[8]=n,a[9]=s,a[10]=d,a[11]=_,a[12]=b,a[13]=v):(b=a[12],v=a[13]);var S=o("Int64Hooks").useMemoInt64(b,v);return r("useCometPreloader")("button",S,C)}function m(){var e=r("gkx")("16508");e===!0?c.preload():u.preload()}function p(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(_)}function _(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"fetch_messages_page_end","AppTiming")}function f(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"fetch_messages_page_start","AppTiming")}function g(e,t){return e.runInTransaction(function(e){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.messages_ranges_v2__generated).getKeyRange(t)).then(function(n){if(n!=null&&n.minMessageId===n.maxMessageId)return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(e),{direction:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:n.minTimestampMs,threadKey:t})})},"readwrite",void 0,void 0,i.id+":160")}l.default=d}),98);
__d("useMWThreadSnippetForDisplay",["I64","LSMessagingThreadTypeUtil","MAWAdminMsg","MAWAdminMsgCTA","MAWLocalizationType","MAWThreadCutover","gkx","isStringNullOrEmpty","react-compiler-runtime","useGetSnippetFromLS","useMWGetOtherUserContact","useMWPThreadHasSpectraUser"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(24),i=o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),l=o("MAWThreadCutover").useCutoverOpenThread(t.threadKey),s=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(l==null?void 0:l.threadKey),u=o("MAWThreadCutover").useIsDualThreadCutoverSecureThread(t.threadKey),c=r("useGetSnippetFromLS")(t),d=t.snippet===""||t.snippet==null,m=l!=null&&(e||(e=o("I64"))).gt(l.lastActivityTimestampMs,t.lastActivityTimestampMs),p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p=["firstName","name"],a[0]=p):p=a[0];var _=r("useMWGetOtherUserContact")(t.threadKey,t.threadType,p),f=(n=_==null?void 0:_.firstName)!=null?n:_==null?void 0:_.name,g=_==null,h=r("useMWPThreadHasSpectraUser")(t.threadKey);if(h){var y=t.lastMessageCtaType,C;a[1]===Symbol.for("react.memo_cache_sentinel")?(C=o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").LOCALIZATION_TYPE.MESSAGE_UNAVAILABLE_SNIPPET),a[1]=C):C=a[1];var b;return a[2]!==C||a[3]!==t.lastMessageCtaType?(b={isDraft:!1,lastMessageCtaType:y,shouldHideTimestamp:!0,snippet:C},a[2]=C,a[3]=t.lastMessageCtaType,a[4]=b):b=a[4],b}if(d&&i&&u&&r("gkx")("8687")){var v=g?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:r("isStringNullOrEmpty")(f)?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME,S;a[5]!==v?(S=o("MAWAdminMsgCTA").getCtaTypeByAdminType(v),a[5]=v,a[6]=S):S=a[6];var R;a[7]!==v||a[8]!==f?(R=o("MAWAdminMsg").buildLocalizedString([],v===o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME&&!r("isStringNullOrEmpty")(f)?[f]:[],v),a[7]=v,a[8]=f,a[9]=R):R=a[9];var L;return a[10]!==S||a[11]!==R?(L={isDraft:!1,lastMessageCtaType:S,shouldHideTimestamp:!1,snippet:R},a[10]=S,a[11]=R,a[12]=L):L=a[12],L}if(i&&!s&&l!=null&&(m||d)){var E;return a[13]!==l.lastMessageCtaType||a[14]!==l.snippet?(E={isDraft:!1,lastMessageCtaType:l.lastMessageCtaType,shouldHideTimestamp:!1,snippet:l.snippet},a[13]=l.lastMessageCtaType,a[14]=l.snippet,a[15]=E):E=a[15],E}if(i&&d&&s){var k;a[16]===Symbol.for("react.memo_cache_sentinel")?(k=o("MAWAdminMsgCTA").getCtaTypeByAdminType(o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE),a[16]=k):k=a[16];var I;return a[17]===Symbol.for("react.memo_cache_sentinel")?(I={isDraft:!1,lastMessageCtaType:k,shouldHideTimestamp:!1,snippet:o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE)},a[17]=I):I=a[17],I}if(i&&d&&!s){var T;a[18]===Symbol.for("react.memo_cache_sentinel")?(T=o("MAWAdminMsgCTA").getCtaTypeByAdminType(o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION),a[18]=T):T=a[18];var D;return a[19]===Symbol.for("react.memo_cache_sentinel")?(D={isDraft:!1,lastMessageCtaType:T,shouldHideTimestamp:!1,snippet:o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION)},a[19]=D):D=a[19],D}var x=i?c.shouldHideTimestamp:!1,$=i?c.snippet:t.snippet,P;return a[20]!==x||a[21]!==$||a[22]!==t.lastMessageCtaType?(P={isDraft:!1,lastMessageCtaType:t.lastMessageCtaType,shouldHideTimestamp:x,snippet:$},a[20]=x,a[21]=$,a[22]=t.lastMessageCtaType,a[23]=P):P=a[23],P}l.default=s}),98);